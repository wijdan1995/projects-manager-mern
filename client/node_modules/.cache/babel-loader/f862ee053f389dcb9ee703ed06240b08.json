{"ast":null,"code":"var _jsxFileName = \"/Users/wijdan/projects/project-manager-mern/client/src/components/AddProject.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { navigate, Link } from '@reach/router';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AddProject({\n  projects,\n  setProjects,\n  userInfo\n}) {\n  _s();\n\n  var _errors$name, _errors$dueDate;\n\n  const [inputs, setInputs] = useState({\n    name: '',\n    dueDate: ''\n  });\n  const [errors, setErrors] = useState([]);\n\n  const onChangeHandler = e => {\n    setInputs({ ...inputs,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault(); // console.log(inputs)\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo === null || userInfo === void 0 ? void 0 : userInfo.token}`\n      }\n    };\n    axios.post('http://localhost:8000/api/projects/new', { ...inputs\n    }, config).then(res => {\n      setProjects([...projects, res.data.project]);\n      setInputs({\n        name: '',\n        dueDate: ''\n      });\n      setErrors({});\n      navigate(\"/\");\n    }).catch(err => {\n      const errorResponse = err.response.data.errors; // Get the errors from err.response.data\n      // Set Errors\n\n      setErrors(errorResponse);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `/`,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-sm btn-outline-dark mb-4\",\n        children: \"Back to Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 28\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `form-group ${(errors === null || errors === void 0 ? void 0 : errors.name) && 'has-danger'} mb-2`,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Project Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: `form-control ${(errors === null || errors === void 0 ? void 0 : errors.name) && 'is-invalid'}`,\n          name: \"name\",\n          value: inputs.name,\n          onChange: onChangeHandler,\n          autoFocus: true,\n          minLength: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors === null || errors === void 0 ? void 0 : (_errors$name = errors.name) === null || _errors$name === void 0 ? void 0 : _errors$name.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `form-group ${(errors === null || errors === void 0 ? void 0 : errors.dueDate) && 'has-danger'} mb-2`,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Due Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          className: `form-control ${(errors === null || errors === void 0 ? void 0 : errors.dueDate) && 'is-invalid'}`,\n          name: \"dueDate\",\n          value: inputs.dueDate,\n          onChange: onChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors === null || errors === void 0 ? void 0 : (_errors$dueDate = errors.dueDate) === null || _errors$dueDate === void 0 ? void 0 : _errors$dueDate.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-dark btn-block mb-2\",\n        children: \"Plan Project\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AddProject, \"uiv+7eJN6Nd2r7CTYlyYDOq3tJg=\");\n\n_c = AddProject;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProject\");","map":{"version":3,"sources":["/Users/wijdan/projects/project-manager-mern/client/src/components/AddProject.js"],"names":["React","useState","navigate","Link","axios","AddProject","projects","setProjects","userInfo","inputs","setInputs","name","dueDate","errors","setErrors","onChangeHandler","e","target","value","onSubmitHandler","preventDefault","config","headers","Authorization","token","post","then","res","data","project","catch","err","errorResponse","response","message"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { navigate, Link } from '@reach/router'\nimport axios from 'axios'\nexport default function AddProject({ projects, setProjects, userInfo }) {\n    const [inputs, setInputs] = useState({\n        name: '',\n        dueDate: ''\n    })\n    const [errors, setErrors] = useState([]);\n    const onChangeHandler = (e) => {\n        setInputs({\n            ...inputs,\n            [e.target.name]: e.target.value\n        })\n    }\n    const onSubmitHandler = e => {\n        e.preventDefault();\n        // console.log(inputs)\n        const config = {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${userInfo?.token}`,\n            },\n        }\n        axios.post('http://localhost:8000/api/projects/new', {\n            ...inputs\n        }, config)\n            .then(res => {\n                setProjects([...projects, res.data.project])\n                setInputs({\n                    name: '',\n                    dueDate: ''\n                })\n                setErrors({})\n                navigate(\"/\")\n            })\n            .catch(err => {\n                const errorResponse = err.response.data.errors; // Get the errors from err.response.data\n                // Set Errors\n                setErrors(errorResponse);\n            })\n\n    }\n    return (\n        <>\n            <Link to={`/`}><button className=\"btn btn-sm btn-outline-dark mb-4\">Back to Dashboard</button></Link>\n            <form onSubmit={onSubmitHandler}>\n                <div className={`form-group ${errors?.name && 'has-danger'} mb-2`}>\n                    <label className=\"form-label\">Project Name</label>\n                    <input type=\"text\" className={`form-control ${errors?.name && 'is-invalid'}`} name=\"name\" value={inputs.name} onChange={onChangeHandler} autoFocus minLength=\"3\" />\n                    <div className=\"invalid-feedback\">\n                        {errors?.name?.message}\n                    </div>\n                </div>\n                <div className={`form-group ${errors?.dueDate && 'has-danger'} mb-2`}>\n                    <label className=\"form-label\">Due Date</label>\n                    <input type=\"date\" className={`form-control ${errors?.dueDate && 'is-invalid'}`} name=\"dueDate\" value={inputs.dueDate} onChange={onChangeHandler}/>\n                    <div className=\"invalid-feedback\">\n                        {errors?.dueDate?.message}\n                    </div>\n                </div>\n\n                <button type=\"submit\" className=\"btn btn-dark btn-block mb-2\">Plan Project</button>\n                {/* <Link className=\"btn btn-secondary btn-block\" to={`/`}>Cancel</Link> */}\n            </form>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}